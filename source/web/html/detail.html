<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<title>비일상컬렉션 vol.1</title>
	<link href="https://fonts.googleapis.com/css?family=Gothic+A1:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="../css/reset.css" />
	<link rel="stylesheet" href="../css/style.css" />
	<link rel="stylesheet" href="../css/sub/style_detail.css">
</head>

<body class="detail_body">
	<div id="detail_wrap">
		<header>
			<h2 class="logo">
				<a href="../index.html"><span>vol.1</span></a>
			</h2>
			<nav>
				<ul>
					<li>/</li>
					<li class="link"><a href="./collection.html"><span>비일상 컬렉션</span></a></li>
					<li class="link"><a href="./list.html"><span>한 줄 비일상</span></a></li>
					<li class="link"><a href="./detail.html"><span>비일상</span></a></li>
				</ul>
			</nav>
		</header>


		<div id="detail_slider">
			<div class="track">
				<div id="content01" class="slider-content detail_slider-content">
					<div class="detail_slide-date">2019.10.24</div>
					<div class="detail_slide-title">
						<h1 class="h1_title t01">추천의 미학</h1>
					</div>
					<div class="detail_slide-text">
						<p class="text">일상에서 나에게 따뜻함을 안겨주는 것들 중에는 추천이 있다. <br>-<br>
							그 사람의 공유정신, <br>내가 너무 크게 의미를 부여하는 것도 당연히 있지만 ! <br>
							그들이 공유하고 싶은 마음이 들었다는 사실에 기뻐하곤 한다.</p>
					</div>

					<ul class="content content_header01">
						<li><a href="#" class="button01_color bt1_1"><span>생각의&nbsp;색&nbsp;01</span></a></li>
						<li><a href="#" class="button01_visual bt1_2" ><span>생각의&nbsp;시각화&nbsp;01</span></a></li>
					</ul>
					
					
				</div>
				<div id="content02" class="slider-content detail_slider-content">
					<div class="detail_slide-date">2019.11.02</div>
					<div class="detail_slide-title">
						<h1 class="h1_title t02">뭔가 좋아하는 게<br>생긴다는 것</h1>
					</div>
					<div class="detail_slide-text">
						<p class="text">심장이 섬짓한 느낌이 너무 반가워진다.<br>
							생각만 해도 미소가 지어지며<br>그 어떤 음식과 오락에 비할 수 없이<br>
							1초 머리에 떠오르기만 해도 불끈 힘이 솟는다.</p>
					</div>

					<ul class="content content_header02">
						<li class="button02_color"><span>생각의&nbsp;색&nbsp;02</span></li>
						<li class="button02_visual"><span>생각의&nbsp;시각화&nbsp;02</span></li>
					</ul>
					
					<div class="heart">&#x2665;</div>
				</div>
				<div id="content03" class="slider-content detail_slider-content detail_slider-content01">
					<div class="detail_slide-date">2019.11.08</div>
					<div class="detail_slide-title">
						<h1 class="h1_title t03">물기를 털기 위한<br>오랜만의 제자리 뜀박질</h1>
					</div>
					<div class="detail_slide-text">
						<p class="text">오랜만에 제자리 뛰기를 했는데 잔잔하게 놀라웠다. <br>-<br>
							초등학교 이후로 콩콩이와 단절되고 ..<br>고등학교 이후엔 줄넘기도 하지 않아 <br>
							제자리에서 뛰는 일이 굉장히 멀고 불필요한 동작, <br>심하게는 .. 유치하게 느껴졌다.
						</p>
					</div>

					<ul class="content content_header03">
						<li class="button03_color"><span>생각의&nbsp;색&nbsp;03</span></li>
						<li class="button03_visual"><span>생각의&nbsp;시각화&nbsp;03</span></li>
					</ul>
				</div>
				<div class="detail_slider-content02">

					<div class="detail_slide-text">
						<p class="text">중력에 너무 익숙해진 탓일까 <br>
							화장실 미끄럼 방지 매트 위에서 뛰는데 몸이 너무 무거웠다.<br>
							10센치도 되지 않는 높이로 몸을 들어올리는데 <br>그리 힘이 들 수가! <br>- <br>
							그래도 결국엔 내려올 때의 시원함, <br>
							붙어있던 물방울이 떨어지는 느낌에서 얻는 행복이 더 컸다.</p>
					</div>
				</div>
				<div id="content04" class="slider-content detail_slider-content">
					<div class="detail_slide-date">2019.11.16</div>
					<div class="detail_slide-title">
						<h1 class="h1_title t04">밤을 새는 자극</h1>
					</div>
					<div class="detail_slide-text">

						<p class="text">잡생각이 요동치다 급격히 사라진다.<br>
							몸은 뻣뻣해지며 움직임이 적어지지만 <br>그만큼 섬세할 수도 있다.<br>-<br>
							모두가 잠든 시간에 글을 쓰거나 그림을 그리는 것은<br> 아주 싱그러운 일이다.</p>
					</div>

					<ul class="content content_header04">
						<li class="button04_color"><span>생각의&nbsp;색&nbsp;04</span></li>
						<li class="button04_visual"><span>생각의&nbsp;시각화&nbsp;04</span></li>
					</ul>
				</div>
				<div id="content05" class="slider-content detail_slider-content detail03">
					<div class="detail_slide-date">2019.11.30</div>
					<div class="detail_slide-title">
						<h1 class="h1_title t05">계절을 실감하게 하는 <br>최고의 매개체는<br>과일인 것 같은 저녁</h1>
					</div>
					<div class="detail_slide-text">

						<p class="text">계절의 냄새라 하면 정말 많은 종류가 있지만 <br>그 중에서도 음식의 냄새가 정말 자극적인 것 같다. <br>
							특히 과일의 냄새 ! <br>- <br>그리고 특히 귤 !</p>
					</div>

					<ul class="content content_header05">
						<li class="button05_color"><span>생각의&nbsp;색&nbsp;05</span></li>
<!--						<li class="button05_visual"><span>생각의&nbsp;시각화&nbsp;05</span></li>-->
					</ul>
				</div>
				<div class="detail04">
					<div class="detail_slide-text">
						<p class="text">
							사계절 중에서도 가장 뭉클하고 격하게 따뜻했다가 <br>격하게 외로운 계절은 겨울인데<br>
							귤 냄새를 한번 맡고 그 터지는 과육을 먹고 나면 .. <br>
							한동안 잊고 있던 겨울패치가 다시 상위 레벨로 정비된다.<br>- <br>
							그동안에 누군가에게 영향을 받지 않았다면 <br>작년 그대로의 귤을 까는 방식에서 시작해<br>
							손톱에 약간 물든 노란색이 ... <br>비로소 내게 겨울이 시작되는 지표같다.</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="../js/libs/jquery/jquery-3.4.1.min.js" type="text/javascript"></script>
	<script src="../js/libs/TweenMax.min.js"></script>
	<script src="../js/try02/style_detail.js"></script>
	<script src="../js/script2.js"></script>
	<script>
		const track = document.querySelector('.track')
		const sliderElements = document.querySelectorAll('.slider-content')
		// Creat dots parent
		let dots = document.createElement('div')
		dots.classList.add('dots')
		track.appendChild(dots)


		// Set data-el-slider-index for all of my elemenets
		for (let i = 0; i < sliderElements.length; i++) {
			sliderElements[i].setAttribute('data-el-slider-index', `${i}`)
			creatDots(i)
		}

		// Creat dots points
		function creatDots(index) {
			let dot = document.createElement('span')
			dot.classList.add('dot')
			dots.appendChild(dot)
			dot.setAttribute('data-dot-slider-index', `${index}`)
		}

		function creatNextAndPrevBtns() {
			// Next Btn
			let next = document.createElement('img')
			next.classList.add('next')
			track.appendChild(next)
			next.setAttribute('src', '../source/img/109617.svg')

			// Previous Btn
			let prev = document.createElement('img')
			prev.classList.add('prev')
			track.appendChild(prev)
			prev.setAttribute('src', '../source/img/109617.svg')
			prev.style.transform = 'rotate(180deg)'
		}
		creatNextAndPrevBtns()



		const prev = document.querySelector('.prev')
		const next = document.querySelector('.next')
		prev.addEventListener('click', handleSliderLogic)
		next.addEventListener('click', handleSliderLogic)

		function handleSliderLogic(e) {
			let prevElement = document.querySelector('.slider-content.active')
			let index = parseInt(prevElement.getAttribute('data-el-slider-index'))
			let currentElement;
			
			document.querySelector('body').classList.remove('bt1_c_body');
			document.querySelector('.t01').classList.remove('bt1_c_title');
			document.querySelector('body').classList.remove('bt2_c_body');
			document.querySelector('.t02').classList.remove('bt2_c_title');
			document.querySelector('.heart').classList.remove('heart_vis');
			document.querySelector('body').classList.remove('bt3_c_body');
			document.querySelector('.t03').classList.remove('bt3_c_title');
			document.querySelector('.t03').classList.remove('shake01');
			document.querySelector('body').classList.remove('bt4_c_body');
			document.querySelector('.t04').classList.remove('bt4_c_title');
			document.querySelector('body').classList.remove('bt5_c_body');
			document.querySelector('.t05').classList.remove('bt5_c_title');
			document.querySelector('body').classList.remove('focus');

			if (e.target.className == 'prev') {
				// If first element in my slider
				
//				if(index = 0){
//			document.querySelector('.content_header01').classList.add('.content_active');
//		}
				
				if (prevElement.getAttribute('data-el-slider-index') == 0) {
					index = sliderElements.length - 1
					activeNewElement(prevElement, index)
					return;
					
				} else {
					index = index - 1
					activeNewElement(prevElement, index)
					return;
				}

			} else if (e.target.className == 'next') {
				// If last element in my slider
				if (prevElement.getAttribute('data-el-slider-index') == sliderElements.length - 1) {
					index = 0
					activeNewElement(prevElement, index)
					return;
				} else {
					index = index + 1
					activeNewElement(prevElement, index)
					return;
				}

			} // End if conditions



		} // End handleSliderLogic function

		
		


		function activeNewElement(prevElement, index) {
			currentElement = document.querySelector(`[data-el-slider-index= '${index}']`)
			currentDot = document.querySelector(`[data-dot-slider-index= '${index}']`)
			prevElement.classList.remove('active')
			currentElement.classList.add('active')
			dots.childNodes.forEach(dot => dot.classList.remove('active'))
			currentDot.classList.add('active')
			
			
		} // End activeNewElement function


		// Handle dots
		dots.childNodes.forEach(dot => dot.addEventListener('click', handleDots))

		function handleDots(e) {
			
			document.querySelector('body').classList.remove('bt1_c_body');
			document.querySelector('.t01').classList.remove('bt1_c_title');
			document.querySelector('body').classList.remove('bt2_c_body');
			document.querySelector('.t02').classList.remove('bt2_c_title');
			document.querySelector('.heart').classList.remove('heart_vis');
			document.querySelector('body').classList.remove('bt3_c_body');
			document.querySelector('.t03').classList.remove('bt3_c_title');
			document.querySelector('.t03').classList.remove('shake01');
			document.querySelector('body').classList.remove('bt4_c_body');
			document.querySelector('.t04').classList.remove('bt4_c_title');
			document.querySelector('body').classList.remove('bt5_c_body');
			document.querySelector('.t05').classList.remove('bt5_c_title');
			document.querySelector('body').classList.remove('focus');
			
			let index = parseInt(e.target.getAttribute('data-dot-slider-index'))
			currentElement = document.querySelector(`[data-el-slider-index= '${index}']`)
			prevElement = document.querySelector('.slider-content.active')
			activeNewElement(prevElement, index)
		} // End handleDots function


		// Active first element
		sliderElements[0].classList.add('active')
		document.querySelector("[data-dot-slider-index= '0']").classList.add('active')

	
	</script>
</body>
</html>
